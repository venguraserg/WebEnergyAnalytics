@{
    ViewData["Title"] = "Home Page";
}


@model WebEnergyAnalytics.Models.TrendModel

<div class="text-center">
    <h1 class="display-4">Графики значений</h1>
   
    
    
</div>
<div class="row">
    <div class="col-6">
        <input type="date" name="datetime1" class="form-control form-control-sm">
    </div>
    <div class="col-6">
        <input type="date" name="datetime2" id="datetime2" class="form-control form-control-sm">
    </div>
</div>
<div>
    <canvas id="myChart"></canvas>
</div>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<script> 

    // Получаем текущую дату и время
    var currentDate = new Date();

    // Форматируем дату и время в строку, понятную для элемента input
    var formattedDate = currentDate.toISOString().slice(0, 10);
    console.log(formattedDate);
    // Устанавливаем значение элемента input
    document.getElementById("datetime2").value = formattedDate;
</script>

<script>
    





    // Получите массив данных из Razor страницы
    var data = @Html.Raw(Json.Serialize(Model.Data));
    var data2 = @Html.Raw(Json.Serialize(Model.Data2));
    
    
    

    // Используйте массив данных в JavaScript
    // Например, создайте график с использованием Chart.js
    var ctx = document.getElementById('myChart').getContext('2d');

    var chartOptions = {
        scales: {
            y: {
                min: -10, // Минимальное значение оси Y
                max: 20 // Максимальное значение оси Y
                //beginAtZero: true
            }
            
        }
    };

    var myChart = new Chart(ctx, {
        type: 'line',
        data: {
            
            datasets: [
                {
                    label: 'Data',
                    data: data,
                
                    backgroundColor: 'rgba(0, 123, 255, 0.5)',
                    borderColor: 'rgba(0, 123, 255, 1)',
                    borderWidth: 1,
                    pointRadius: 1,
                    tension: 0.2 // Здесь указывается значение tension
                },
                {
                    label: 'Data2',
                    data: data2,

                    backgroundColor: 'rgba(255, 123, 255, 0.5)',
                    borderColor: 'rgb(75, 192, 192)',
                    borderWidth: 1,
                    pointRadius: 0.1,
                    tension: 0.2 // Здесь указывается значение tension
                }
            ]
        },
        options: chartOptions
    });





    
</script>
